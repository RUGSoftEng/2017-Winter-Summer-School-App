<!DOCTYPE html>
<html lang="en" class='full'>
<head>
	<% include partials/web_header %>
	<style><% include partials/css/announcement.css %></style>
	<style><% include partials/css/options.css %></style>
	<script><% include partials/js/announcement.js %></script>
	<script><% include partials/js/contentDivider.js %></script>
	<script><% include partials/js/manageModal.js %></script>
</head>
<body class="full">
<div class='tooltip' role='tooltip'><div class='tooltip-arrow'></div><div class='tooltip-inner'>Hello my name is Daan</div></div>
  <div id='wrap' class='full'>
    <% include partials/general_navigationbar.ejs %>
    <% include partials/alertMessage.ejs %>
      <div class="row" id="event-screen">
          <div class="col-md-4">
              <div id="content" class="list-group">
                  <button
                      type="button" class="list-group-item list-group-item-text" id="list-header">
                      Options
                    </button>

                    <button
                      type="button" class="list-group-item list-group-item-text  change-announcement"
                      data-description = "<!--<div class='btn-group-wrapper'>
                      <div class='btn-group btn-group-lg' role='group' aria-label='Manage administrators'>
                      	<button class='btn btn-default manage open-modal' data-title='Add an administrator' data-button='Add administrator' data-toggle='modal' data-target='#manageModal' type='button'>
                      		Add an administrator
                      	</button>
                      	<button class='btn btn-default manage open-modal' data-title='List of administrators' data-button='Close' data-toggle='modal' data-target='#manageModal' type='button'>
                      		View list of administrators
                      	</button>
                      	<button class='btn btn-default manage' type='button'>
                      		Do funky stuff
                      	</button>
                      </div><div>-->
                      <div id='fix'>
                      <div id='innerContent'>

  <!-- Nav tabs -->
  <ul class='nav nav-tabs' role='tablist'>
    <li role='presentation' class='active'><a href='#home' aria-controls='home' role='tab' data-toggle='tab'>Add</a></li>
    <li role='presentation'><a href='#view' aria-controls='view' role='tab' data-toggle='tab'>View</a></li>
  </ul>

  <!-- Tab panes -->
  <div class='tab-content'>
    <div role='tabpanel' class='tab-pane fade in active' id='home'>
    	<h3>Add an administrator</h2>
    	<form method='post' enctype='application/json'>
				<div class='modal-body modal-add-body'>

	                <div class='form-group'>
					    <label class='control-label' for='username'>Username</label>
					    <input type='name' class='form-control' id='username' placeholder='Name' name='username'>
					    <span class='help-block' style='display:none;'><span class='glyphicon glyphicon-exclamation-sign' aria-hidden='true'></span> Username may only contain lowercase letters and must contain between 5 and 20 characters</span>
					</div>
					
					<div class='form-group'>
					    <label for='password'>Password</label>
					    <input type='password' class='form-control' id='password' placeholder='Password' name='password'>
					</div>
					
					<div class='form-group'>
					    <label class='control-label' for='cpassword'>Confirm password</label>
					    <input type='password' class='form-control' id='cpassword' placeholder='Password'>
					    <span class='help-block' style='display:none;'>  <span class='glyphicon glyphicon-exclamation-sign' aria-hidden='true'></span>
Passwords do not match</span>
					</div>
	                
	                <div class='modal-footer'>
	                    <button type='button' class='btn btn-default' data-dismiss='modal'>Cancel</button>
	                    <button type='submit' class='btn btn-primary finish'>Add</button>
	                </div>
	            </div>
            </form>
    </div>
    <div role='tabpanel' class='tab-pane fade' id='view'>
    
    	<table class='table table-striped table-hover'>
    		<thead>
				<tr><th>#</th><th>Username</th><th>Actions</th> </tr>
			</thead>
			<tbody>
				<% for(var i=0; i<accounts.length; i++) { %>
					<tr><td><%= i + 1 %></td><td><%= accounts[i].username %></td><td><div class='btn-group' role='group' aria-label='...'>
   <button type='button' class='btn btn-default' aria-label='Profile' data-toggle='tooltip' data-placement='bottom' title='Profile'><span class='glyphicon glyphicon-user' aria-hidden='true'></span></button>	
   <button type='button' class='btn btn-default' aria-label='View' data-toggle='tooltip' data-placement='bottom' title='View'><span class='glyphicon glyphicon-eye-open' aria-hidden='true'></span></button>			
  <button type='button' class='btn btn-default' aria-label='Delete' data-toggle='tooltip' data-placement='bottom' title='Delete'><span class='glyphicon glyphicon-remove' aria-hidden='true'></span></button>
</div></td> </tr>
				<% } %>
			</tbody>
		</table>
    </div>
    
  </div>
</div>
  </div>                    
                      <script>
                      $('.nav-tabs a').click(function (e) {
					  	e.preventDefault()
					  	$(this).tab('show')
					  	})
					  	
					  	$('.finish').click(function (e) {
						  	if($('#cpassword').val() != $('#password')) {
						  		e.preventDefault();
						  		$('#cpassword').parent().addClass('has-error');
						  		$('#cpassword').next().show();
						  	}
					  	})
					  	
					  	$('.finish').click(function (e) {
						  	if($('#cpassword').val() != $('#password')) {
						  		e.preventDefault();
						  		$('#cpassword').parent().addClass('has-error');
						  		$('#cpassword').next().show();
						  	}
					  	})
					  	$('#username').focusout(function() {
					  		if(! /^[a-z]{5,20}$/.test($(this).val())) { //only lower-case letters with at least 5 characters and no more than 20 characters
					  			$('#username').parent().addClass('has-error');
					  			$('#username').parent().removeClass('has-success');
					  			$('#username').next().show();
					  		}
					  		else {
					  			$('#username').parent().removeClass('has-error');
					  			$('#username').parent().addClass('has-success');
					  			$('#username').next().hide();
					  		}
					  	});
					  	$('#cpassword').focusout(function(){
					  		if($('#cpassword').val() != $('#password')) {
					  			$('#cpassword').parent().removeClass('has-success');
						  		$('#cpassword').parent().addClass('has-error');
						  		$('#cpassword').next().show();
						  	} else {
						  		$('#cpassword').parent().removeClass('has-error');
						  		$('#username').parent().addClass('has-success');
						  		$('#cpassword').next().hide();
						  	}
					  	});
					  	
					  	$(function () {
					  		$('[data-toggle=\'tooltip\']').tooltip({container:'body', template:'<div class=\'tooltip\' role=\'tooltip\'><div class=\'tooltip-arrow\'></div><div class=\'tooltip-inner\'></div></div>'})
					  	})
                      </script>
                      
                      "
                      data-poster = ""
                      data-title = "Manage administrators">
                      <span class='pull-left announcement-title'>Manage administrators</span>
                      <h5 class="details pull-right">a</h5>
                    </button>
                    
                    <button
                      type="button" class="list-group-item list-group-item-text  change-announcement"
                      data-description = "Hello"
                      data-poster = ""
                      data-title = "Manage users">
                      <span class='pull-left announcement-title'>Manage users</span>
                      <h5 class="details pull-right">a</h5>
                    </button>
              </div>
          </div>
        <div class="col-md-8">
          <div class="inner-event">
            <h3 id='changingTitle' class="underline-title">View options
            </h3>
            <div id="changingDescription">Select an option</div>
            <div id='authorContainer'><h5 class="details"></h5></div>
          </div>
        </div>
      </div>
      <% include partials/manageModal %>
    </div>
</body>
